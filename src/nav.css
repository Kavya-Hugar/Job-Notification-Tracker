/**
 * Job Notification Tracker â€” Top nav (KodNest design system)
 * Active link: deep red underline. Mobile: hamburger menu.
 */

.app-nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--kn-topbar-height);
  padding: 0 var(--kn-space-md);
  border-bottom: var(--kn-border);
  background: var(--kn-background);
}

.app-nav__brand {
  font-family: var(--kn-font-body);
  font-weight: 600;
  font-size: 0.9375rem;
  color: var(--kn-text);
  text-decoration: none;
  transition: color var(--kn-transition-duration) var(--kn-transition-ease);
}

.app-nav__brand:hover {
  color: var(--kn-accent);
}

.app-nav__links {
  display: flex;
  align-items: center;
  gap: var(--kn-space-md);
}

.app-nav__link {
  font-family: var(--kn-font-body);
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--kn-color-text-muted);
  text-decoration: none;
  padding: var(--kn-space-xs) 0;
  border-bottom: 2px solid transparent;
  transition: color var(--kn-transition-duration) var(--kn-transition-ease),
              border-color var(--kn-transition-duration) var(--kn-transition-ease);
}

.app-nav__link:hover {
  color: var(--kn-text);
}

.app-nav__link.active {
  color: var(--kn-text);
  border-bottom-color: var(--kn-accent);
}

.app-nav__toggle {
  display: none;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 0;
  background: transparent;
  border: var(--kn-border);
  border-radius: var(--kn-radius);
  color: var(--kn-text);
  cursor: pointer;
  transition: background-color var(--kn-transition-duration) var(--kn-transition-ease),
              border-color var(--kn-transition-duration) var(--kn-transition-ease);
}

.app-nav__toggle:hover {
  background: rgba(17, 17, 17, 0.04);
}

.app-nav__toggle-icon {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.app-nav__toggle-icon span {
  display: block;
  width: 18px;
  height: 2px;
  background: currentColor;
}

@media (max-width: 768px) {
  .app-nav__links {
    position: fixed;
    top: var(--kn-topbar-height);
    left: 0;
    right: 0;
    flex-direction: column;
    align-items: stretch;
    padding: var(--kn-space-sm);
    gap: 0;
    background: var(--kn-background);
    border-bottom: var(--kn-border);
    transform: translateY(-100%);
    visibility: hidden;
    opacity: 0;
    transition: transform var(--kn-transition-duration) var(--kn-transition-ease),
                visibility var(--kn-transition-duration) var(--kn-transition-ease),
                opacity var(--kn-transition-duration) var(--kn-transition-ease);
    z-index: 100;
  }

  .app-nav__links.open {
    transform: translateY(0);
    visibility: visible;
    opacity: 1;
  }

  .app-nav__link {
    padding: var(--kn-space-sm);
    border-bottom: none;
    border-left: 3px solid transparent;
  }

  .app-nav__link.active {
    border-left-color: var(--kn-accent);
  }

  .app-nav__toggle {
    display: flex;
  }
}

.app-main {
  min-height: calc(100vh - var(--kn-topbar-height));
  padding: var(--kn-space-lg);
}

@media (max-width: 768px) {
  .app-main {
    padding: var(--kn-space-md);
  }
}

.app-placeholder {
  max-width: var(--kn-measure);
  padding: var(--kn-space-xl) 0;
}

.app-placeholder__subtext {
  font-size: var(--kn-size-body);
  line-height: var(--kn-line-height-body);
  margin: 0;
}

.landing {
  display: flex;
  justify-content: center;
  padding: var(--kn-space-xl) 0;
}

.landing__content {
  max-width: var(--kn-measure);
}

.landing__subtext {
  margin-top: var(--kn-space-sm);
  margin-bottom: var(--kn-space-lg);
}

.landing__cta {
  margin-top: var(--kn-space-xs);
}

.page {
  max-width: 960px;
  margin: 0 auto;
  padding: var(--kn-space-xl) 0;
}

.page__header {
  margin-bottom: var(--kn-space-lg);
}

.page__subtext {
  margin-top: var(--kn-space-sm);
}

.page__body {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-md);
}

.settings-form {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--kn-space-md);
}

.settings-form__field {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-xs);
}

.settings-form__label {
  font-family: var(--kn-font-body);
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--kn-text);
}

.settings-form__help {
  font-size: 0.8125rem;
  margin-top: 4px;
}

.settings-form__mode-options {
  display: flex;
  gap: var(--kn-space-sm);
  flex-wrap: wrap;
}

.settings-form__checkbox {
  display: inline-flex;
  align-items: center;
  gap: var(--kn-space-xs);
  font-size: 0.875rem;
}

.empty-panel {
  padding: var(--kn-space-lg);
}

.empty-panel__text {
  margin-top: var(--kn-space-sm);
}

@media (max-width: 768px) {
  .landing {
    padding: var(--kn-space-lg) 0;
  }

  .page {
    padding: var(--kn-space-lg) 0;
  }
}

.page__body--with-filters {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-md);
}

.filters-bar {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-md);
}

.filters-bar__row {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr;
  gap: var(--kn-space-md);
}

.filters-bar__field {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-xs);
}

.filters-bar__field--keyword {
  grid-column: span 1;
}

.filters-bar__label {
  font-family: var(--kn-font-body);
  font-size: 0.8125rem;
  font-weight: 500;
  color: var(--kn-color-text-muted);
}

.filters-bar__footer {
  display: flex;
  justify-content: flex-end;
}

.filters-bar__toggle {
  display: inline-flex;
  align-items: center;
  gap: var(--kn-space-xs);
  font-size: 0.875rem;
}

.filters-bar__toggle input {
  width: 16px;
  height: 16px;
}

.jobs-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--kn-space-md);
}

.job-card {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-sm);
}

.job-card__header {
  display: flex;
  justify-content: space-between;
  gap: var(--kn-space-sm);
}

.job-card__right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: var(--kn-space-xs);
}

.job-card__title {
  margin-bottom: var(--kn-space-xs);
}

.job-card__company {
  font-size: 0.875rem;
}

.job-card__meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--kn-space-xs);
  align-items: center;
}

.job-card__chip {
  padding: 4px 8px;
  border-radius: 999px;
  border: var(--kn-border);
  font-size: 0.75rem;
}

.job-card__posted {
  margin-left: auto;
  font-size: 0.8125rem;
  color: var(--kn-color-text-muted);
}

.job-card__footer {
  display: flex;
  gap: var(--kn-space-xs);
  margin-top: var(--kn-space-sm);
}

.job-card__source-badge {
  align-self: flex-start;
  padding: 4px 10px;
  border-radius: 999px;
  border: var(--kn-border);
  font-size: 0.75rem;
}

.job-card__source-badge--linkedin {
  border-color: var(--kn-color-border);
}

.job-card__source-badge--naukri {
  border-color: var(--kn-color-border);
}

.job-card__source-badge--indeed {
  border-color: var(--kn-color-border);
}

.match-badge {
  padding: 2px 10px;
  border-radius: 999px;
  border: var(--kn-border);
  font-size: 0.75rem;
}

.match-badge--high {
  border-color: var(--kn-color-success);
  color: var(--kn-color-success);
}

.match-badge--medium {
  border-color: var(--kn-color-warning);
  color: var(--kn-color-warning);
}

.match-badge--low {
  border-color: var(--kn-color-text-muted);
  color: var(--kn-color-text-muted);
}

.match-badge--minimal {
  border-color: var(--kn-color-border);
  color: var(--kn-color-text-muted);
}

.dashboard-banner {
  padding: var(--kn-space-md);
}

.digest-actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--kn-space-xs);
}

.digest-note {
  font-size: 0.8125rem;
  margin: 0;
}

.digest-card {
  margin-top: var(--kn-space-md);
}

.digest-card__header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: var(--kn-space-md);
  margin-bottom: var(--kn-space-md);
}

.digest-card__date {
  font-size: 0.875rem;
}

.digest-list {
  list-style: none;
  padding: 0;
  margin: 0 0 var(--kn-space-md);
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-sm);
}

.digest-item__main {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--kn-space-md);
}

.digest-item__title {
  display: flex;
  align-items: baseline;
  gap: var(--kn-space-xs);
  font-weight: 500;
}

.digest-item__index {
  font-size: 0.875rem;
  color: var(--kn-color-text-muted);
}

.digest-item__meta {
  font-size: 0.875rem;
  margin-top: 2px;
}

.digest-item__apply {
  white-space: nowrap;
}

.digest-card__footer {
  border-top: var(--kn-border);
  margin-top: var(--kn-space-md);
  padding-top: var(--kn-space-sm);
  font-size: 0.875rem;
}

.job-modal__backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: var(--kn-space-md);
  z-index: 200;
}

.job-modal {
  max-width: 720px;
  width: 100%;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-md);
}

.job-modal__header {
  display: flex;
  justify-content: space-between;
  gap: var(--kn-space-md);
  align-items: flex-start;
}

.job-modal__company {
  font-size: 0.875rem;
}

.job-modal__close {
  align-self: flex-start;
}

.job-modal__body {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-md);
}

.job-modal__description {
  white-space: pre-line;
}

.job-modal__meta {
  display: flex;
  gap: var(--kn-space-lg);
  font-size: 0.875rem;
}

.job-modal__label {
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--kn-color-text-muted);
  margin-bottom: 4px;
}

.job-modal__skills-list {
  display: flex;
  flex-wrap: wrap;
  gap: var(--kn-space-xs);
}

.job-skill-pill {
  padding: 4px 10px;
  border-radius: 999px;
  border: var(--kn-border);
  font-size: 0.75rem;
}

.job-card__status-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--kn-space-sm);
  margin-top: var(--kn-space-sm);
}

.status-badge {
  padding: 2px 10px;
  border-radius: 999px;
  border: var(--kn-border);
  font-size: 0.75rem;
}

.status-badge--not-applied {
  border-color: var(--kn-color-border);
  color: var(--kn-color-text-muted);
}

.status-badge--applied {
  border-color: #2f5f9f;
  color: #2f5f9f;
}

.status-badge--rejected {
  border-color: var(--kn-accent);
  color: var(--kn-accent);
}

.status-badge--selected {
  border-color: var(--kn-color-success);
  color: var(--kn-color-success);
}

.status-group {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  justify-content: flex-end;
}

.status-group__button {
  border-radius: 999px;
  border: var(--kn-border);
  background: transparent;
  font-size: 0.75rem;
  padding: 2px 8px;
  cursor: pointer;
  color: var(--kn-color-text-muted);
}

.status-group__button--active {
  border-color: var(--kn-accent);
  color: var(--kn-accent);
}

.toast {
  position: fixed;
  right: var(--kn-space-md);
  bottom: var(--kn-space-md);
  padding: var(--kn-space-sm) var(--kn-space-md);
  background: var(--kn-background);
  border: var(--kn-border);
  border-radius: var(--kn-radius);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
  z-index: 300;
}

.toast__message {
  font-size: 0.875rem;
}

.digest-status {
  margin-top: var(--kn-space-md);
}

.digest-status__list {
  list-style: none;
  margin: var(--kn-space-sm) 0 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.digest-status__item {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: var(--kn-space-md);
  font-size: 0.875rem;
}

.digest-status__title {
  font-weight: 500;
}

.digest-status__meta {
  display: flex;
  gap: var(--kn-space-sm);
  color: var(--kn-color-text-muted);
}

.digest-status__status {
  font-weight: 500;
}

.proof-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--kn-space-md);
}

.proof-summary {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-md);
}

.proof-summary__list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.proof-summary__item {
  display: flex;
  justify-content: space-between;
  gap: var(--kn-space-md);
  font-size: 0.875rem;
}

.proof-summary__status {
  color: var(--kn-color-text-muted);
}

.proof-summary__shipped {
  margin: 0;
  font-size: 0.875rem;
}

.proof-artifacts {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-md);
}

.proof-artifacts__header p {
  margin-top: var(--kn-space-xs);
}

.proof-artifacts__field {
  display: flex;
  flex-direction: column;
  gap: var(--kn-space-xs);
}

.proof-artifacts__error {
  font-size: 0.8125rem;
  color: var(--kn-color-text-muted);
}

.proof-artifacts__actions {
  display: flex;
  justify-content: flex-start;
}

.test-summary {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--kn-space-md);
}

.test-summary__warning {
  margin: 0;
  font-size: 0.875rem;
}

.test-summary__reset {
  white-space: nowrap;
}

.test-checklist__list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.test-checklist__item {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: var(--kn-space-md);
  font-size: 0.875rem;
}

.test-checklist__label {
  display: inline-flex;
  align-items: center;
  gap: var(--kn-space-xs);
}

.test-checklist__hint {
  font-size: 0.8125rem;
  color: var(--kn-color-text-muted);
  cursor: help;
}

@media (max-width: 1024px) {
  .jobs-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 768px) {
  .filters-bar__row {
    grid-template-columns: 1fr;
  }

  .jobs-grid {
    grid-template-columns: 1fr;
  }

  .job-modal__meta {
    flex-direction: column;
    gap: var(--kn-space-sm);
  }
}
